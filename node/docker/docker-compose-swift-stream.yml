version: '3.2'

services:
    minio:
      container_name: minio
      image: quay.io/minio/minio:RELEASE.2023-03-13T19-46-17Z
      command: server /data/
      expose:
        - "9000" # Expose to host machine as localhost:9000
      ports:
        - "127.0.0.1:9000:9000"
    # environment:
    # MINIO_ROOT_USER: minioadmin
    # MINIO_ROOT_PASSWORD: minioadmin
      healthcheck:
        test: [ "CMD", "curl", "-f", "http://localhost:9000/minio/health/live" ]
        interval: 30s
        timeout: 20s
        retries: 3
      networks:
        - ethernity
      volumes:
        - ./etny-orders:/data

networks:
  ethernity:
    driver: bridge
